#!/usr/bin/env node

/**
 * Bhilal CLI Wrapper
 * Point d'entr√©e principal pour l'interpr√©teur Bhilal
 */

const path = require('path');
const fs = require('fs');

// V√©rifier si l'installation a √©t√© faite
const installMarker = path.join(__dirname, '..', '.bhilal-installed');
const installScript = path.join(__dirname, '..', 'scripts', 'install.js');

if (!fs.existsSync(installMarker) && fs.existsSync(installScript)) {
  console.log('üöÄ Premi√®re ex√©cution de Bhilal...');
  console.log('üì¶ Installation automatique des d√©pendances...\n');
  
  const { execSync } = require('child_process');
  try {
    execSync(`node "${installScript}"`, { stdio: 'inherit' });
  } catch (e) {
    console.error('\n‚ùå Erreur lors de l\'installation:', e.message);
    process.exit(1);
  }
}

// Lancer l'interpr√©teur Bhilal
const bhilalPath = path.join(__dirname, '..', 'bhilal.js');
require(bhilalPath);
